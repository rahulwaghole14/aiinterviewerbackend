import{a8 as L,r as n,j as e,a9 as k,aa as l,ab as h}from"./index-DasKWjZg.js";import{r as y}from"./index-YPs6-RzR.js";const F=({variant:j="button",showLabels:d=!0,className:m=""})=>{const{theme:s,isSystemTheme:c,toggleTheme:g,setSystemTheme:w,setLightTheme:N,setDarkTheme:b}=L(),[o,p]=n.useState(!1),[f,v]=n.useState({top:0,left:0}),[T,r]=n.useState(!1),u=n.useRef(null),a=n.useRef(null),$=()=>{if(a.current){const t=a.current.getBoundingClientRect(),i=128,C=window.innerWidth,S=t.left+t.width/2-i/2,E=Math.max(8,Math.min(S,C-i-8));v({top:t.bottom-5,left:E-20}),r(!0)}};n.useEffect(()=>{const t=i=>{u.current&&!u.current.contains(i.target)&&a.current&&!a.current.contains(i.target)&&(p(!1),r(!1))};return o&&(document.addEventListener("mousedown",t),document.addEventListener("touchstart",t)),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[o]);const x=t=>{t(),p(!1),r(!1)};return j==="dropdown"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`theme-dropdown ${m}`,children:e.jsxs("div",{ref:a,className:"theme-dropdown-trigger",onClick:()=>{o||(r(!1),$()),p(!o)},children:[e.jsx("span",{className:"theme-icon",children:c?e.jsx(k,{}):s==="dark"?e.jsx(l,{}):e.jsx(h,{})}),d&&e.jsx("span",{className:"theme-label",children:"Theme"})]})}),o&&y.createPortal(e.jsxs("div",{ref:u,className:`theme-dropdown-menu theme-dropdown-portal ${T?"":"hidden"}`,style:{top:`${f.top}px`,left:`${f.left}px`},children:[e.jsxs("button",{className:`theme-option ${s==="light"&&!c?"active":""}`,onClick:()=>x(N),children:[e.jsx(h,{className:"theme-option-icon"}),e.jsx("span",{children:"Light"})]}),e.jsxs("button",{className:`theme-option ${s==="dark"&&!c?"active":""}`,onClick:()=>x(b),children:[e.jsx(l,{className:"theme-option-icon"}),e.jsx("span",{children:"Dark"})]}),e.jsxs("button",{className:`theme-option ${c?"active":""}`,onClick:()=>x(w),children:[e.jsx(k,{className:"theme-option-icon"}),e.jsx("span",{children:"System"})]})]}),document.body)]}):j==="switch"?e.jsx("div",{className:`theme-switch ${m}`,children:e.jsxs("label",{className:"theme-switch-label",children:[e.jsx("input",{type:"checkbox",checked:s==="dark",onChange:g,className:"theme-switch-input"}),e.jsx("span",{className:"theme-switch-slider",children:e.jsx("span",{className:"theme-switch-icon",children:s==="dark"?e.jsx(l,{}):e.jsx(h,{})})}),d&&e.jsx("span",{className:"theme-switch-text",children:"Dark Mode"})]})}):e.jsxs("button",{className:`theme-toggle-button ${m}`,onClick:g,title:`Switch to ${s==="light"?"dark":"light"} theme`,"aria-label":`Switch to ${s==="light"?"dark":"light"} theme`,children:[e.jsx("span",{className:"theme-toggle-icon",children:s==="dark"?e.jsx(h,{}):e.jsx(l,{})}),d&&e.jsx("span",{className:"theme-toggle-text",children:s==="dark"?"Light":"Dark"})]})};export{F as T};
