import{r as u,j as a,aq as k,ar as y,as as F,at as L,ad as j,X as W,W as f}from"./index-DasKWjZg.js";const D=({visible:n,x:r,y:c,actions:m=[],onAction:l,onClose:o,rowData:h,rowIndex:x})=>{const d=u.useRef(null);if(u.useEffect(()=>{const e=t=>{d.current&&!d.current.contains(t.target)&&o()};return n&&(document.addEventListener("mousedown",e),document.addEventListener("contextmenu",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("contextmenu",e)}},[n,o]),u.useEffect(()=>{const e=t=>{t.key==="Escape"&&o()};return n&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,o]),!n)return null;const w=e=>({edit:f,delete:W,view:j,download:L,copy:F,share:y,save:k})[e]||f,v=e=>({edit:"Edit",delete:"Delete",view:"View",download:"Download",copy:"Copy",share:"Share",save:"Save"})[e]||e,E=e=>{l&&l(e,h,x),o()},p=(()=>{const t=m.length*40+16,g=window.innerWidth,M=window.innerHeight;let i=r,s=c;return r+180>g&&(i=r-180),c+t>M&&(s=c-t),i=Math.max(10,i),s=Math.max(10,s),{left:i,top:s}})();return a.jsx("div",{ref:d,className:"context-menu",style:{position:"fixed",left:`${p.left}px`,top:`${p.top}px`,zIndex:1e4},onClick:e=>e.stopPropagation(),children:m.map(e=>{const t=w(e);return a.jsxs("div",{className:`context-menu-item ${e}`,onClick:()=>E(e),children:[a.jsx(t,{className:"context-menu-icon",size:14}),a.jsx("span",{children:v(e)})]},e)})})};export{D as C};
