import{i as Be,P as We,a as C,r as o,U as ve,V as Qe,j as t,a1 as Xe,Z as Ze,Y as Ke,_ as y,a2 as we,a3 as et,a4 as Se,a5 as tt,a6 as nt,a7 as at}from"./index-9DSA42Q2.js";import{C as Te}from"./CustomDropdown-DqAXTwZC.js";import{D as st}from"./DataTable-AM5dFNtq.js";import{C as ot}from"./ContextMenu-Xdes_WnF.js";import"./index-BUMpm_8V.js";const wt=()=>{const d=Be(),h=We(),te=C(e=>e.jobs.allJobs),J=C(e=>e.jobs.domains),ne=C(e=>e.jobs.jobsStatus),U=C(e=>e.jobs.domainsStatus);C(e=>e.jobs.jobsError),C(e=>e.jobs.domainsError);const ae=C(e=>e.search.searchTerm);o.useEffect(()=>{},[ae]);const se=C(e=>e.user.user),i=se?.role?.toUpperCase(),f=se?.company_name,$=e=>{const a=J.find(n=>n.id===e);return a?a.name:`Domain ${e}`};o.useEffect(()=>{},[se,i,f]);const oe=o.useMemo(()=>i==="ADMIN"?te:i==="COMPANY"||i==="HIRING_AGENCY"||i==="RECRUITER"?te.filter(e=>e.company_name&&f&&e.company_name.toLowerCase()===f.toLowerCase()):[],[te,i,f]);o.useEffect(()=>{ne==="idle"&&d(ve()),U==="idle"&&d(Qe())},[ne,U,d]);const[m,V]=o.useState({job_title:"",company_name:"",domain:"",spoc_email:"",hiring_manager_email:"",current_team_size_info:"",number_to_hire:"",position_level:"",current_process:"",coding_language:"PYTHON",job_description:""});o.useEffect(()=>{i==="COMPANY"&&f&&V(e=>({...e,company_name:f}))},[i,f]);const[c,O]=o.useState(!1),[De,ie]=o.useState(null),[it,rt]=o.useState(null),[D,re]=o.useState(!1),[P,le]=o.useState(null),[fe,ce]=o.useState(null),[lt,u]=o.useState(""),[ct,_]=o.useState(!1),[A,je]=o.useState(null),[dt,mt]=o.useState(null),[_e,L]=o.useState(!1),[q,F]=o.useState(null),[N,ut]=o.useState(null),[G,ht]="asc",[B,de]=o.useState(!1),[W,Q]=o.useState(!1),[v,H]=o.useState({name:"",description:""}),[Pe,me]=o.useState(null),[z,Ae]=o.useState(!1),[R,xe]=o.useState({visible:!1,x:0,y:0,rowData:null,rowIndex:null}),[Ee,Ce]=o.useState(null),[Me,ye]=o.useState(null),Ie=async e=>{e.preventDefault(),re(!0);const a=localStorage.getItem("authToken");if(!a){re(!1),h.error("Authentication token not found. Please log in again.");return}try{const n=await fetch(`${y}/api/jobs/domains/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${a}`},body:JSON.stringify(v)});if(!n.ok){const l=await n.json();throw new Error(l.detail||`HTTP error! status: ${n.status}`)}const s=await n.json();d(tt(s)),H({name:"",description:""}),h.success("Domain created successfully!")}catch(n){h.error(n.message||"Failed to create domain.")}finally{re(!1)}},ke=async(e,a)=>{le(e);const n=localStorage.getItem("authToken");if(!n){le(null),h.error("Authentication token not found. Please log in again.");return}try{const s=await fetch(`${y}/api/jobs/domains/${e}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Token ${n}`},body:JSON.stringify(a)});if(!s.ok){const b=await s.json();throw new Error(b.detail||`HTTP error! status: ${s.status}`)}const l=await s.json();d(nt({id:e,updatedData:l})),me(null),h.success("Domain updated successfully!")}catch(s){h.error(s.message||"Failed to update domain.")}finally{le(null)}},Je=async e=>{ce(e);const a=localStorage.getItem("authToken");if(!a){ce(null),h.error("Authentication token not found. Please log in again.");return}try{const n=await fetch(`${y}/api/jobs/domains/${e}/`,{method:"DELETE",headers:{Authorization:`Token ${a}`}});if(!n.ok){const s=await n.json();throw new Error(s.detail||`HTTP error! status: ${n.status}`)}d(at(e)),h.success("Domain deleted successfully!")}catch(n){h.error(n.message||"Failed to delete domain.")}finally{ce(null)}},X=e=>{const{name:a,value:n}=e.target;H(s=>({...s,[a]:n}))},$e=[...oe].sort((e,a)=>{if(ae){const l=ae.toLowerCase(),b=E=>{let w=0;const M=(ue,K="")=>{Object.entries(ue||{}).forEach(([S,r])=>{if(r==null)return;let I;if(typeof r=="object"&&r!==null){M(r,`${K}${S}.`);return}else typeof r=="boolean"?I=r?"true":"false":I=String(r);if(S==="domain"&&typeof r=="number"){const k=$(r);if(k){const x=k.toLowerCase();x.includes(l)&&(x.startsWith(l)?w+=10:w+=5)}}const ee=I.toLowerCase();ee.includes(l)&&(ee.startsWith(l)?w+=10:w+=5)})};return M(E),w},Z=b(e),Y=b(a);if(Z!==Y)return Y-Z}if(!N)return 0;const n=N==="domain"?e.domain_name||$(e[N]):e[N],s=N==="domain"?a.domain_name||$(a[N]):a[N];return n==null?G==="asc"?1:-1:s==null?G==="asc"?-1:1:typeof n=="string"&&typeof s=="string"?G==="asc"?n.localeCompare(s):s.localeCompare(n):typeof n=="number"&&typeof s=="number"?G==="asc"?n-s:s-n:0});o.useEffect(()=>{const e=document.getElementById("create-domain-modal-overlay");e&&(B?e.classList.remove("hidden"):e.classList.add("hidden"))},[B]),o.useEffect(()=>{const e=document.getElementById("view-domains-modal-overlay");e&&(W?e.classList.remove("hidden"):e.classList.add("hidden"))},[W]);const p=e=>{const{name:a,value:n}=e.target;V(s=>({...s,[a]:n}))},Oe=async e=>{e.preventDefault(),O(!0);const{job_title:a,company_name:n,domain:s,spoc_email:l,hiring_manager_email:b,current_team_size_info:Z,number_to_hire:Y,position_level:E,current_process:w,coding_language:M,job_description:ue}=m;if(!a||!n||!s||!l||!b||!Y||!E||!M){u("Please fill all required fields: Job Title, Company Name, Domain, SPOC Email, Hiring Manager Email, Number to Hire, Position Level, and Coding Language."),_(!1),O(!1);return}const K=["IC","Manager"];if(!K.includes(E)){u(`Invalid position level: ${E}. Must be one of: ${K.join(", ")}`),_(!1),O(!1);return}u("");const S=A!==null;try{const r=localStorage.getItem("authToken"),I=S?`${y}/api/jobs/${A}/`:`${y}/api/jobs/`,ee=S?"PUT":"POST",k=s&&s!==""?parseInt(s,10):null;if(!k||isNaN(k)){u("Please select a valid domain."),_(!1),O(!1);return}const x=await fetch(I,{method:ee,headers:{"Content-Type":"application/json",Authorization:`Token ${r}`},body:JSON.stringify({job_title:a,company_name:n,domain:k,spoc_email:l,hiring_manager_email:b,current_team_size_info:Z||"",number_to_hire:parseInt(Y,10),position_level:E,current_process:w||"",coding_language:M?M.toUpperCase():"PYTHON",job_description:ue||""})});if(!x.ok){const Ne=await x.text();try{const g=JSON.parse(Ne);if(g.details&&typeof g.details=="object"){const pe=Object.entries(g.details).map(([be,T])=>{const ge=Array.isArray(T)?T.join(", "):T;return`${be}: ${ge}`}).join(`
`);throw new Error(`Validation errors:
${pe}`)}else{if(g.error)throw new Error(g.error);if(g.detail)throw new Error(g.detail);if(typeof g=="object"){const pe=Object.entries(g).map(([be,T])=>{const ge=Array.isArray(T)?T.join(", "):T;return`${be}: ${ge}`}).join(`
`);throw new Error(`Validation errors:
${pe}`)}else throw new Error(`HTTP error! status: ${x.status}`)}}catch{throw new Error(`HTTP error! status: ${x.status}. Response: ${Ne.substring(0,200)}`)}}const he=await x.json();S?(d(we({id:he.id,updatedData:he})),_(!0),je(null)):(d(et(he)),_(!0)),V({job_title:"",company_name:i==="COMPANY"?f:"",domain:"",spoc_email:"",hiring_manager_email:"",current_team_size_info:"",number_to_hire:"",position_level:"",current_process:"",coding_language:"PYTHON",job_description:""}),setTimeout(()=>{_(!1)},2e3)}catch(r){u(r.message||(S?"Failed to update job. Please try again.":"Failed to add job. Please try again.")),_(!1)}finally{O(!1)}},Le=async()=>{if(q!==null){ie(q);const e=localStorage.getItem("authToken");if(!e){u("Authentication token not found. Please log in again."),L(!1),ie(null),F(null);return}try{const a=await fetch(`${y}/api/jobs/${q}/`,{method:"DELETE",headers:{Authorization:`Token ${e}`}});if(!a.ok){const n=await a.json();throw new Error(n.detail||`HTTP error! status: ${a.status}`)}d(Se(q)),L(!1),F(null)}catch(a){u(a.message||"Failed to delete job. Please try again."),L(!1),F(null)}finally{ie(null)}}},Fe=()=>{L(!1),F(null)},He=async e=>{const a=localStorage.getItem("authToken");if(!a){u("Authentication token not found. Please log in again.");return}try{const n=await fetch(`${y}/api/jobs/${e}/`,{method:"DELETE",headers:{Authorization:`Token ${a}`}});if(!n.ok){const s=await n.json();throw new Error(s.detail||`HTTP error! status: ${n.status}`)}d(Se(e))}catch(n){throw u(n.message||"Failed to delete job. Please try again."),n}},ze=async e=>{const a=localStorage.getItem("authToken");if(!a)throw u("Authentication token not found. Please log in again."),new Error("Authentication token not found");const n=["IC","Manager"];if(e.position_level&&!n.includes(e.position_level))if(e.position_level.toLowerCase().includes("mid")||e.position_level.toLowerCase().includes("senior"))e.position_level="IC";else if(e.position_level.toLowerCase().includes("manager")||e.position_level.toLowerCase().includes("lead"))e.position_level="Manager";else throw new Error(`Invalid position level: ${e.position_level}. Must be one of: ${n.join(", ")}`);try{const s=await fetch(`${y}/api/jobs/${e.id}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Token ${a}`},body:JSON.stringify({job_title:e.job_title,company_name:e.company_name,domain:e.domain&&e.domain!==""?parseInt(e.domain,10):null,spoc_email:e.spoc_email,hiring_manager_email:e.hiring_manager_email,current_team_size_info:e.current_team_size_info,number_to_hire:Math.max(1,parseInt(e.number_to_hire,10)||1),position_level:e.position_level,current_process:e.current_process,coding_language:e.coding_language?e.coding_language.toUpperCase():"PYTHON",job_description:e.job_description||""})});if(!s.ok){const b=await s.json();throw new Error(b.detail||b.message||`HTTP error! status: ${s.status}`)}const l=await s.json();d(we({id:l.id,updatedData:l}))}catch(s){throw u(s.message||"Failed to update job. Please try again."),s}},Re=(e,a=20)=>{if(e==null||e==="")return"-";const n=String(e);return n.length>a?t.jsx("span",{title:n,children:n.slice(0,a)+"..."}):t.jsx("span",{title:n,children:n})},Ye=(e,a,n)=>{e.preventDefault(),e.stopPropagation(),xe({visible:!0,x:e.clientX,y:e.clientY,rowData:a,rowIndex:n})},Ue=(e,a,n)=>{e==="edit"?(Ce(n),ye({...a})):e==="delete"&&(F(a.id),L(!0))},Ve=()=>{xe({visible:!1,x:0,y:0,rowData:null,rowIndex:null})},j=D||P!==null||fe!==null,[bt,gt]=o.useState([]),[ft,jt]=o.useState(!1),[_t,qe]=o.useState(null);o.useEffect(()=>{const e=()=>qe(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const Ge=B||W||_e;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`jobs-container ${Ge?"blur-background":""}`,children:[(i==="ADMIN"||i==="COMPANY")&&t.jsxs("div",{className:"mobile-header-section",children:[t.jsxs("div",{className:"domain-management-section",children:[t.jsx("button",{type:"button",className:"domain-btn create-domain-btn",onClick:()=>{H({name:"",description:""}),de(!0)},disabled:j,children:D?"Adding Domain...":"+ Create New Domain"}),t.jsx("button",{type:"button",className:"domain-btn view-domains-btn",onClick:()=>Q(!0),disabled:j,children:"View All Domains"})]}),t.jsxs("div",{className:"jobs-header-container",children:[t.jsx("div",{className:"total-jobs-card",children:t.jsxs("div",{className:"jobs-count-card",children:[t.jsx("span",{className:"jobs-count-text",children:"Total Jobs: "}),t.jsx("span",{className:"jobs-count-number",children:oe.length})]})}),t.jsx("div",{className:"mobile-form-toggle",children:t.jsxs("button",{className:`mobile-create-job-btn ${z?"form-open":""}`,onClick:()=>Ae(!z),children:[t.jsx("span",{className:"btn-icon",children:z?"Ã—":"+"}),t.jsx("span",{className:"btn-text",children:z?"Close":"Create New Job"})]})})]})]}),(i==="ADMIN"||i==="COMPANY")&&t.jsxs("div",{className:"desktop-header-section desktop-only",children:[t.jsxs("div",{className:"domain-management-section",children:[t.jsx("button",{type:"button",className:"domain-btn create-domain-btn",onClick:()=>{H({name:"",description:""}),de(!0)},disabled:j,children:D?"Adding Domain...":"+ Create New Domain"}),t.jsx("button",{type:"button",className:"domain-btn view-domains-btn",onClick:()=>Q(!0),disabled:j,children:"View All Domains"})]}),t.jsx("div",{className:"total-jobs-card",children:t.jsxs("div",{className:"jobs-count-card",children:[t.jsx("span",{className:"jobs-count-text",children:"Total Jobs: "}),t.jsx("span",{className:"jobs-count-number",children:oe.length})]})})]}),t.jsxs("div",{className:"jobs-main-content fixed-grid",style:i==="RECRUITER"||i==="HIRING_AGENCY"?{gridTemplateColumns:"1fr"}:{},children:[i==="ADMIN"||i==="COMPANY"?t.jsxs("div",{className:`jobs-form card slide-in-left ${z?"mobile-form-visible":"mobile-form-hidden"}`,children:[t.jsx("h2",{className:"form-title",children:A?"Edit Job":"Create New Job"}),t.jsx("form",{id:"jobForm",onSubmit:Oe,children:t.jsxs("div",{className:"form-box",children:[t.jsx("label",{htmlFor:"job_title",children:"Job Title"}),t.jsx("input",{type:"text",id:"job_title",name:"job_title",placeholder:"e.g., Data Analyst",value:m.job_title,onChange:p,className:"jobs-input",required:!0,disabled:c}),t.jsx("label",{htmlFor:"company_name",children:"Company Name"}),t.jsx("input",{type:"text",id:"company_name",name:"company_name",placeholder:"e.g., Insight Analytics",value:m.company_name,onChange:p,className:"jobs-input",required:!0,readOnly:i==="COMPANY"}),t.jsx("label",{htmlFor:"domain",children:"Domain"}),t.jsx(Te,{value:String(m.domain),options:[{value:"",label:"Select a domain"},...J.map(e=>({value:String(e.id),label:e.name}))],onChange:e=>p({target:{name:"domain",value:e}}),placeholder:"Select a domain",disabled:c||U==="loading"}),t.jsx("label",{htmlFor:"spoc_email",children:"SPOC Email"}),t.jsx("input",{type:"email",id:"spoc_email",name:"spoc_email",placeholder:"e.g., hr@insight.com",value:m.spoc_email,onChange:p,className:"jobs-input",required:!0,disabled:c}),t.jsx("label",{htmlFor:"hiring_manager_email",children:"Hiring Manager Email"}),t.jsx("input",{type:"email",id:"hiring_manager_email",name:"hiring_manager_email",placeholder:"e.g., lead@insight.com",value:m.hiring_manager_email,onChange:p,className:"jobs-input",required:!0,disabled:c}),t.jsx("label",{htmlFor:"current_team_size_info",children:"Current Team Size Info"}),t.jsx("input",{type:"text",id:"current_team_size_info",name:"current_team_size_info",placeholder:"e.g., 5-10",value:m.current_team_size_info,onChange:p,className:"jobs-input",disabled:c}),t.jsx("label",{htmlFor:"number_to_hire",children:"Number to Hire"}),t.jsx("input",{type:"number",id:"number_to_hire",name:"number_to_hire",placeholder:"e.g., 2",value:m.number_to_hire,onChange:p,className:"jobs-input",required:!0,disabled:c}),t.jsx("label",{htmlFor:"position_level",children:"Position Level"}),t.jsxs("select",{id:"position_level",name:"position_level",value:m.position_level,onChange:p,className:"jobs-input",required:!0,disabled:c,children:[t.jsx("option",{value:"",children:"Select Position Level"}),t.jsx("option",{value:"IC",children:"IC (Individual Contributor)"}),t.jsx("option",{value:"Manager",children:"Manager"})]}),t.jsx("label",{htmlFor:"current_process",children:"Current Process"}),t.jsx("input",{type:"text",id:"current_process",name:"current_process",placeholder:"e.g., Screening, Interview (optional)",value:m.current_process,onChange:p,className:"jobs-input",disabled:c}),t.jsx("label",{htmlFor:"coding_language",children:"Coding Language"}),t.jsx(Te,{value:m.coding_language||"PYTHON",options:[{value:"PYTHON",label:"Python"},{value:"JAVASCRIPT",label:"JavaScript"},{value:"C",label:"C"},{value:"CPP",label:"C++"},{value:"JAVA",label:"Java"},{value:"GO",label:"Go"},{value:"HTML",label:"HTML"},{value:"PHP",label:"PHP"}],onChange:e=>p({target:{name:"coding_language",value:e}}),placeholder:"Select coding language",disabled:c}),t.jsx("label",{htmlFor:"job_description",children:"Job Description"}),t.jsx("textarea",{id:"job_description",name:"job_description",placeholder:"Enter detailed job description, responsibilities, requirements, etc.",value:m.job_description,onChange:p,className:"jobs-input",rows:"6",style:{resize:"vertical",minHeight:"120px"},disabled:c}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{className:"submit-btn",type:"submit",disabled:c,children:c?A?"Updating Job...":"Creating Job...":A?"Update Job":"Create Job"}),A&&t.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{je(null),V({job_title:"",company_name:i==="COMPANY"?f:"",domain:"",spoc_email:"",hiring_manager_email:"",current_team_size_info:"",number_to_hire:"",position_level:"",current_process:"",coding_language:"PYTHON",job_description:""}),_(!1),u("")},disabled:c,children:"Cancel"})]})]})})]}):null,t.jsx("div",{className:"job-listings-section card",children:t.jsx("div",{className:"data-table-wrapper",children:t.jsx(st,{title:"Job Listings",columns:[{field:"job_title",header:"Job Title",width:"200px",editable:!0,render:e=>t.jsx("div",{title:e,className:"text-truncate",children:e})},{field:"company_name",header:"Company",width:"150px",editable:!0,render:e=>t.jsx("div",{title:e,className:"text-truncate",children:e})},{field:"domain",header:"Domain",width:"120px",type:"select",editable:!0,options:J.map(e=>({value:e.id,label:e.name})),placeholder:"Select Domain",render:(e,a)=>t.jsx("div",{title:a.domain_name||$(e)||"-",className:"text-truncate",children:a.domain_name||$(e)||"-"})},{field:"spoc_email",header:"SPOC Email",width:"180px",editable:!0,render:e=>t.jsx("div",{title:e,className:"text-truncate",children:e})},{field:"hiring_manager_email",header:"Hiring Manager Email",width:"180px",editable:!0,render:e=>t.jsx("div",{title:e,className:"text-truncate",children:e})},{field:"current_team_size_info",header:"Current Team Size Info",width:"160px",editable:!0,render:e=>t.jsx("div",{title:e,className:"text-truncate",children:e||"N/A"})},{field:"number_to_hire",header:"Number to Hire",width:"120px",editable:!0,type:"number"},{field:"position_level",header:"Position Level",width:"140px",type:"select",editable:!0,options:[{value:"IC",label:"IC"},{value:"Manager",label:"Manager"}]},{field:"current_process",header:"Current Process",width:"180px",editable:!0,render:e=>{if(!e)return"N/A";const a=e.length>50?e.substring(0,50)+"...":e;return t.jsx("div",{title:e,className:"text-truncate",children:a})}},{field:"coding_language",header:"Coding Language",width:"150px",editable:!0,render:e=>{if(!e)return"N/A";const n={PYTHON:"Python",JAVASCRIPT:"JavaScript",C:"C",CPP:"C++",JAVA:"Java",GO:"Go",HTML:"HTML",PHP:"PHP",RUBY:"Ruby",CSHARP:"C#",SQL:"SQL"}[e]||e;return t.jsx("div",{title:n,className:"text-truncate",children:n})}},{field:"job_description",header:"Job Description",width:"220px",editable:!0,render:e=>{if(!e)return"N/A";const a=e.length>60?e.substring(0,60)+"...":e;return t.jsx("div",{title:e,className:"text-truncate",children:a})}},{field:"created_at",header:"Created",width:"120px",render:e=>e?new Date(e).toLocaleDateString():"N/A"}],data:$e||[],loading:ne==="loading",actions:["edit","delete"],onAction:(e,a,n)=>{e!=="edit"&&e==="delete"&&He(a.id)},onContextMenuClick:Ye,onEdit:async e=>{await ze(e)},editingRow:Ee,editingData:Me,setEditingRow:Ce,setEditingData:ye,showRefresh:!0,onRefresh:async()=>{try{await d(ve()).unwrap(),h.success("Jobs data refreshed successfully!")}catch{h.error("Failed to refresh jobs data. Please try again.")}},showActions:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100,200,500]})})})]})]}),t.jsxs(Xe,{isOpen:B,onClose:()=>de(!1),onSubmit:Ie,title:"Create New Domain",submitText:"Create Domain",isSubmitting:D,size:"medium",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"domain-name",children:"Domain Name"}),t.jsx("input",{type:"text",id:"domain-name",name:"name",value:v.name,onChange:X,placeholder:"e.g., Data Science",required:!0,disabled:D})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"domain-description",children:"Description"}),t.jsx("textarea",{id:"domain-description",name:"description",value:v.description,onChange:X,placeholder:"e.g., Data Science and Analytics domain",rows:"3",required:!0,disabled:D})]})]}),t.jsx(Ze,{isOpen:W,onClose:()=>Q(!1),title:"All Domains",size:"large",closeOnBackdrop:!j,closeOnEscape:!j,showFooter:!0,footer:t.jsx("div",{className:"modal-confirm-actions",children:t.jsx("button",{className:"common-modal-btn btn-cancel",onClick:()=>Q(!1),disabled:j,children:"Close"})}),children:U==="loading"?t.jsxs("div",{className:"loading-overlay",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading domains..."})]}):J.length===0?t.jsx("p",{children:"No domains found. Create your first domain!"}):t.jsx("div",{className:"domains-list",children:J.map(e=>t.jsx("div",{className:"domain-item",children:Pe===e.id?t.jsxs("div",{className:"domain-edit-form",children:[t.jsx("label",{htmlFor:`edit-domain-name-${e.id}`,children:"Domain Name"}),t.jsx("input",{type:"text",id:`edit-domain-name-${e.id}`,value:v.name,onChange:X,name:"name",className:"domain-edit-input",disabled:P===e.id}),t.jsx("label",{htmlFor:`edit-domain-description-${e.id}`,children:"Description"}),t.jsx("textarea",{id:`edit-domain-description-${e.id}`,value:v.description,onChange:X,name:"description",className:"domain-edit-input",rows:"2",disabled:P===e.id}),t.jsxs("div",{className:"domain-edit-actions",children:[t.jsx("button",{className:"save-btn",onClick:()=>ke(e.id,{name:v.name,description:v.description,is_active:e.is_active}),disabled:P===e.id,children:P===e.id?"Saving...":"Save"}),t.jsx("button",{className:"cancel-btn",onClick:()=>me(null),disabled:P===e.id,children:"Cancel"})]})]}):t.jsxs("div",{className:"domain-info",children:[t.jsxs("div",{className:"domain-details",children:[t.jsx("h4",{children:e.name}),t.jsx("p",{children:Re(e.description,50)}),t.jsx("span",{className:`domain-status ${e.is_active?"active":"inactive"}`,children:e.is_active?"Active":"Inactive"})]}),t.jsxs("div",{className:"domain-actions",children:[t.jsx("button",{className:"edit-btn",onClick:()=>{me(e.id),H({name:e.name,description:e.description})},disabled:j,children:"Edit"}),t.jsx("button",{className:"delete-btn",onClick:()=>Je(e.id),disabled:j,children:fe===e.id?"Deleting...":"Delete"})]})]})},e.id))})}),t.jsx(Ke,{isOpen:_e,onClose:Fe,onConfirm:Le,title:"Delete Job",message:"Are you sure you want to delete this job? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",isLoading:De!==null}),t.jsx(ot,{visible:R.visible,x:R.x,y:R.y,actions:["edit","delete"],onAction:Ue,onClose:Ve,rowData:R.rowData,rowIndex:R.rowIndex})]})};export{wt as default};
